<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Listings</title>
    <link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<style>
    table td{padding: 4px; margin:0}
</style>

<nav class="navbar-expand-sm p-0">

    <a class="nav-item" href="#"> Home </a>
    <a class="nav-item active" href="#"> About Us </a>
    <a class="nav-item active" href="#"> Listings </a>

</nav>

<body>
<div>
    <!-- <form>
    label for = "num_rec">Number of records:</label>
    input type="text" id="num_rec"> <br>
    input type="button" value="Update" onclick="update_data()"
    </form>
    -->
    <table id="records" class="border-color: #000000">
        <tr>
            <td>First Name</td>
            <td>Last Name</td>
            <td>Year Built </td>
            <td>New Construction</td>
            <td>Square Feet </td>
            <td>Bathrooms </td>
            <td>Bedrooms </td>
            <td>Street Address </td>
            <td>City </td>
            <td>State </td>
            <td>Zip </td>
            <td>Phone </td>
            <td>Price </td>
            <td>Image </td>
        </tr></table>
</div>

<script>
    function update_data() {
        //const record_count=
        parseInt(document.getElementById("num_rec").value);
        const url = "http://3.21.225.172:8080/api/realestate/all";

        $.getJSON(url+ "realestate/getByRowAmount?rows=5")
            .done(function(data) {
                $.each(data, function(i, item) {
                    var html=
                        "<td>" + item.fname + "</td>" +
                        "<td>" + item.lname + "</td>" +
                        "<td>" + item.yrblt + "</td>" +
                        "<td>" + item.isnew + "</td>" +
                        "<td>" + item.sqft + "</td>" +
                        "<td>" + item.baths + "</td>" +
                        "<td>" + item.beds + "</td>" +
                        "<td>" + item.street + "</td>" +
                        "<td>" + item.city + "</td>" +
                        "<td>" + item.state + "</td>" +
                        "<td>" + item.zip + "</td>" +
                        "<td>" + item.state + "</td>" +
                        "<td>" + item.phone + "</td>" +
                        "<td>" + item.price + "</td>" +
                        "<td>" <img ;width=100; height=100; src="" + url +
                        item.imageurl + "'/></td>" ;
                    $("<tr/>").html(html).appendTo("#records");
                })
            })
    }
    update_data();
</script>
</body>
<footer>
    <p class="footer-item"> 555-555-5555 | 57 W Main St Colliersville, TN | info@tennesseevalleyrealty.com </p>
</footer>
</html>

